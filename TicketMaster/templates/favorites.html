<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Favorites</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
    <a class="navbar-brand fs-3" href="/">TicketMaster</a>
    <div class="ms-auto">
<button id="darkModeToggle" class="btn btn-outline-light">ðŸŒ™ Dark Mode</button>
    </div>
</nav>

<div class="container mt-4">

<div id="headerSection" class="text-center py-4">
    <h1 class="display-5 fw-bold mb-3">Your Favorite Events</h1>
</div>
    {% for fav in favorites %}
        <div class="card mb-4 shadow">
            <div class="row g-0">
                <div class="col-md-4">
                    <img src="{{ fav.image }}" class="img-fluid" alt="{{ fav.name }}">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h3>{{ fav.name }}</h3>
                        <p class="mb-1 fw-bold">{{ fav.date }} | {{ fav.time }}</p>
                        <p class="mb-1">{{ fav.venue }}</p>
                        <p class="text-secondary">{{ fav.address }}</p>

                        <a href="{{ fav.ticket_url }}" target="_blank" class="btn btn-primary me-2">Tickets</a>

                        <a href="{% url 'update_favorite' fav.id %}" class="btn btn-warning me-2">Update</a>

                        <a href="{% url 'delete_favorite' fav.id %}"
                           class="btn btn-danger"
                           onclick="return confirm('Delete this favorite?');">Delete</a>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}

</div>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<script>
$(document).ready(function() {
    $('#darkModeToggle').click(function() {

        if ($('body').hasClass('bg-dark')) {
            $('body').removeClass('bg-dark text-light').addClass('bg-light text-dark');

            $('.card').each(function() {
                $(this).removeClass('bg-dark text-light').addClass('bg-light text-dark');
            });

            $('h1, h2, h3, h4, h5, h6').each(function() {
                $(this).removeClass('text-light').addClass('text-dark');
            });

            $('p, small, label').each(function() {
                $(this).removeClass('text-light').addClass('text-dark');
            });

            $('#darkModeToggle').text('ðŸŒ™ Dark Mode');

        } else {
            $('body').removeClass('bg-light text-dark').addClass('bg-dark text-light');

            $('.card').each(function() {
                $(this).removeClass('bg-light text-dark').addClass('bg-dark text-light');
            });

            $('h1, h2, h3, h4, h5, h6').each(function() {
                $(this).removeClass('text-dark').addClass('text-light');
            });

            $('p, small, label').each(function() {
                $(this).removeClass('text-dark').addClass('text-light');
            });
            
            $('#darkModeToggle').text('â˜€ Light Mode');
        }

    });
});
</script>






</body>
</html>
